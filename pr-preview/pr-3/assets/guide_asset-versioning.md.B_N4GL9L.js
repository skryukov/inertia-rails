import{_ as i,f as a,g as e,a5 as n}from"./chunks/framework._I0PdzNh.js";const d=JSON.parse('{"title":"Asset versioning","description":"","frontmatter":{},"headers":[],"relativePath":"guide/asset-versioning.md","filePath":"guide/asset-versioning.md"}'),t={name:"guide/asset-versioning.md"};function h(r,s,l,o,p,k){return e(),a("div",null,s[0]||(s[0]=[n(`<h1 id="asset-versioning" tabindex="-1">Asset versioning <a class="header-anchor" href="#asset-versioning" aria-label="Permalink to &quot;Asset versioning&quot;">​</a></h1><p>One common challenge when building single-page apps is refreshing site assets when they&#39;ve been changed. Thankfully, Inertia makes this easy by optionally tracking the current version of your site assets. When an asset changes, Inertia will automatically make a full page visit instead of a XHR visit on the next request.</p><h2 id="configuration" tabindex="-1">Configuration! <a class="header-anchor" href="#configuration" aria-label="Permalink to &quot;Configuration!&quot;">​</a></h2><p>To enable automatic asset refreshing, you need to tell Inertia the current version of your assets using the <code>InertiaRails.configure</code> method and setting the <code>config.version</code> property. This can be any arbitrary string (letters, numbers, or a file hash), as long as it changes when your assets have been updated.</p><div class="language-ruby vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ruby</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">InertiaRails</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">configure</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> do</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> |config|</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  config.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">version</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> ViteRuby</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">digest</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # or any other versioning method</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">end</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># You can also use lazy evaluation</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">InertiaRails</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">configure</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> do</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> |config|</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  config.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">version</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> lambda</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ViteRuby</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">digest</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">end</span></span></code></pre></div><h2 id="cache-busting" tabindex="-1">Cache busting <a class="header-anchor" href="#cache-busting" aria-label="Permalink to &quot;Cache busting&quot;">​</a></h2><p>Asset refreshing in Inertia works on the assumption that a hard page visit will trigger your assets to reload. However, Inertia doesn&#39;t actually do anything to force this. Typically this is done with some form of cache busting. For example, appending a version query parameter to the end of your asset URLs.</p>`,7)]))}const c=i(t,[["render",h]]);export{d as __pageData,c as default};
